var ApiAlarmIntegration={};ApiAlarmIntegration.FetchAlarms=function(t){function a(){t('[data-api-alarm-integration="load"]').each(function(a,e){this.init(e),t(e).removeAttr("data-api-alarm-integration")}.bind(this))}return a.prototype.init=function(a){var e=t(a),r=e.attr("data-alarm-api"),n=e.attr("data-alamrs-per-page"),i=e.attr("data-alamrs-current-page");this.loadAlarms(a,r,n,i)},a.prototype.loadAlarms=function(a,e,r,n){var i=e+"wp/v2/alarm",o={per_page:r,page:n+1};t.getJSON(i,o,function(e){t.each(e,function(t,e){this.addAlarmToList(a,e)}.bind(this))}.bind(this))},a.prototype.addAlarmToList=function(a,e){var r=new Date(e.date);e.date=r.toLocaleFormat("%Y-%m-%d %H:%M");var n=ApiAlarmIntegration.Helper.Template.render("api-alarm-integration-row",e);t(a).append(n)},new a}(jQuery),ApiAlarmIntegration=ApiAlarmIntegration||{},ApiAlarmIntegration.Helper=ApiAlarmIntegration.Helper||{},ApiAlarmIntegration.Helper.Template=function(){function t(){this.getTemplates()}var a=[];return t.prototype.render=function(t,e){var r=a[t];return r=r.replace(/{{\s*([\w\.]+)\s*}}/g,function(t,a){for(var r=e,n=a.split("."),i=0;i<n.length;i++)r=r[n[i]];return r})},t.prototype.getTemplates=function(){for(var t=document.querySelectorAll("[data-template]"),e=0;e<t.length;e++){var r=t[e],n=r.getAttribute("data-template"),i=r.outerHTML.replace(/data-template="([^\"]*)"/gi,"");a[n]=i,r.parentElement.removeChild(r)}},new t}();