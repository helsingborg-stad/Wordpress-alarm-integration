var ApiAlarmIntegration={};ApiAlarmIntegration.FetchAlarms=function(t){function a(){t('[data-api-alarm-integration="load"]').each(function(a,e){this.init(e),t(e).removeAttr("data-api-alarm-integration")}.bind(this))}return a.prototype.init=function(a){var e=t(a),r=e.attr("data-alarm-api"),n=e.attr("data-alamrs-per-page"),i=e.attr("data-alamrs-current-page");this.loadAlarms(a,r,n,i)},a.prototype.loadAlarms=function(a,e,r,n){var i=e+"wp/v2/alarm",l={per_page:r,page:n+1};t.getJSON(i,l,function(e){t.each(e,function(e,r){t(a).find("[data-alarms-loading]").remove(),this.addAlarmToList(a,r)}.bind(this))}.bind(this))},a.prototype.addAlarmToList=function(a,e){var r=new Date(e.date);e.date=r.toLocaleFormat("%Y-%m-%d %H:%M");var n=ApiAlarmIntegration.Helper.Template.render("api-alarm-integration-row",e);t(a).append(n)},new a}(jQuery),ApiAlarmIntegration=ApiAlarmIntegration||{},ApiAlarmIntegration.Helper=ApiAlarmIntegration.Helper||{},ApiAlarmIntegration.Helper.Template=function(){function Template(){this.getTemplates()}var _templates=[];return Template.prototype.render=function(key,data){var template=_templates[key];return template=template.replace(/{{\s*([\w\.]+)\s*}}/g,function(t,a){for(var e=data,r=a.split("."),n=0;n<r.length;n++)e=e[r[n]];return e}),template=template.replace(/{%\s*if(.*)\s*%}([\s\S]*?){%\s*endif\s*%}/gm,function($1,$2,$3){return eval($2)?$3:""})},Template.prototype.getTemplates=function(){for(var t=document.querySelectorAll("[data-template]"),a=0;a<t.length;a++){var e=t[a],r=e.getAttribute("data-template"),n=e.outerHTML.replace(/data-template="([^\"]*)"/gi,"");_templates[r]=n,e.parentElement.removeChild(e)}},new Template}();