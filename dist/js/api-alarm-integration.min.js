var ApiAlarmIntegration={};ApiAlarmIntegration.FetchAlarms=function(t){function e(){t('[data-api-alarm-integration="load"]').each(function(e,a){this.init(a),t(a).removeAttr("data-api-alarm-integration")}.bind(this))}return e.prototype.init=function(e){var a=t(e),r=a.attr("data-alarm-api"),n=a.attr("data-alamrs-per-page"),i=a.attr("data-alamrs-current-page");this.loadAlarms(e,r,n,i)},e.prototype.loadAlarms=function(e,a,r,n){var i=a+"wp/v2/alarm",l={per_page:r,page:n+1};t.getJSON(i,l,function(a){t.each(a,function(t,a){this.addAlarmToList(e,a)}.bind(this))}.bind(this))},e.prototype.addAlarmToList=function(e,a){var r=new Date(a.date);a.date=r.toLocaleFormat("%Y-%m-%d %H:%M");var n=ApiAlarmIntegration.Helper.Template.render("api-alarm-integration-row",a);t(e).append(n)},new e}(jQuery),ApiAlarmIntegration=ApiAlarmIntegration||{},ApiAlarmIntegration.Helper=ApiAlarmIntegration.Helper||{},ApiAlarmIntegration.Helper.Template=function(){function Template(){this.getTemplates()}var _templates=[];return Template.prototype.render=function(key,data){var template=_templates[key];return template=template.replace(/{{\s*([\w\.]+)\s*}}/g,function(t,e){for(var a=data,r=e.split("."),n=0;n<r.length;n++)a=a[r[n]];return a}),template=template.replace(/{%\s*if(.*)\s*%}([\s\S]*?){%\s*endif\s*%}/gm,function($1,$2,$3){return eval($2)?$3:""})},Template.prototype.getTemplates=function(){for(var t=document.querySelectorAll("[data-template]"),e=0;e<t.length;e++){var a=t[e],r=a.getAttribute("data-template"),n=a.outerHTML.replace(/data-template="([^\"]*)"/gi,"");_templates[r]=n,a.parentElement.removeChild(a)}},new Template}();